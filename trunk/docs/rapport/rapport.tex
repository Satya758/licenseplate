\documentclass[11pt,a4paper,final]{article}
\usepackage[utf8]{inputenc}
%\usepackage{ucs}
\usepackage[danish]{babel}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{verbatim}
\usepackage{listings} % Better source code listings
%\usepackage{hyperref}
%\usepackage{fixme}
\usepackage[danish]{varioref}
\usepackage{graphicx}
\usepackage{fancyhdr}

% colors in tables
\usepackage{color}
\usepackage{array}
\usepackage{colortbl}
%\definecolor{light-gray}{gray}{0.9}

% different font in captions
\newcommand{\captionfonts}{\small}

\makeatletter  % Allow the use of @ in command names\long\def\@makecaption#1#2{%  \vskip\abovecaptionskip  \sbox\@tempboxa{{\captionfonts #1: #2}}%  \ifdim \wd\@tempboxa >\hsize    {\captionfonts #1: #2\par}  \else    \hbox to\hsize{\hfil\box\@tempboxa\hfil}%  \fi  \vskip\belowcaptionskip}\makeatother   % Cancel the effect of \makeatletter

% fancy headings
\pagestyle{fancy}
%\lhead[]{}
%\rhead[]{}


\lstset{ %
language=Matlab,                % choose the language of the code
basicstyle=\scriptsize,       % the size of the fonts that are used for the code
numbers=left,                   % where to put the line-numbers
numberstyle=\scriptsize,      % the size of the fonts that are used for the line-numbers
stepnumber=5,                   % the step between two line-numbers. If it's 1 each line will be numbered
%numbersep=5pt,                  % how far the line-numbers are from the code
%backgroundcolor=\color{white},  % choose the background color. You must add \usepackage{color}
%showspaces=false,               % show spaces adding particular underscores
%showstringspaces=false,         % underline spaces within strings
%showtabs=false,                 % show tabs within strings adding particular underscores
%frame=single,                   % adds a frame around the code
%tabsize=2,                      % sets default tabsize to 2 spaces
%captionpos=b,                   % sets the caption-position to bottom
%breaklines=true,                % sets automatic line breaking
%breakatwhitespace=false,        % sets if automatic breaks should only happen at whitespace
%escapeinside={\%*}{*)}          % if you want to add a comment within your code
}



\author{Tobias Balle-Petersen og Esben Paul Bugge}
\title{Automatisk identifikation og læsning af nummerplader}

\parindent=0pt
\parskip=10pt
\usepackage[top=3cm, bottom=2.5cm, left=4cm, right=4cm]{geometry} 

%\lstset{language=python}
%\lstset{inputencoding=latin1}
%\lstset{extendedchars=true}
%\lstset{breaklines=true}
%\lstset{commentstyle=\textit}
%\lstset{showstringspaces=false}
%lstset{numbers=left, numberstyle=\tiny, stepnumber=2, numbersep=5pt,tabsize=3,basicstyle=\small}
%\lstset{numbers=left, numberstyle=\tiny, stepnumber=2, numbersep=5pt,stringstyle=\ttfamily, showstringspaces=false, basicstyle=\small, language={python}}

\hyphenation{ar-bej-de psy-ko-lo-gi-ske over-blik brug-en skit-se-re com-pu-ter reg-ning ud-ar-bej-de des-ud-en mu-lig-hed-en fjern-be-tje-ning ved-kom-men-de vur-de-ring ar-bejds-op-ga-ve knap bru-ger-e-va-lu-e-ring-en be-skre-vet vand-ret-te or-ga-ni-se-res hin-an-den pla-ce-ret han-dels-ud-dan-nel-se per-so-nen mang-len-de punkt-er-nes valg-mu-lig-he-der klas-sisk bru-ger-e-va-lu-e-ring op-ret-te ka-te-go-ri-en op-le-ve ge-stalt-psy-ko-lo-gi-ens af-snit knap-pen pro-blem-stil-ling-er pro-ble-mer fi-gu-ren eks-pe-ri-men-talt del-tag-el-se na-tur-vid-en-ska-be-lig med-ar-bej-de-re num-mer-plad-er par-ke-rings-an-læg kend-te sy-ste-met gen-kend-el-se bil-led-er-ne fo-to-gra-fi ma-te-ri-a-le le-ve-rer U-ni-ver-si-tet Der-i-mod mi-ni-mum num-mer-plad-er-ne lang-somt svar-en-de e-le-men-tæ-re a-na-ly-se-re bil-led-be-hand-ling pixels tids-plan}
	

\begin{document}

\maketitle
%Billedfilerne skal hedde "nummerpladens tekst"."filtype", eksempelvis EF12345.jpg.
\newpage
\tableofcontents
\newpage

%%%%%%%%%%%%%%
% INDLEDNING %
%%%%%%%%%%%%%%
\include{indledning/indledning}


%%%%%%%%%%%%%%%%%%%%%%%
% OPBYGNING AF SYSTEM %
%%%%%%%%%%%%%%%%%%%%%%%
\section{Vores system}
I vores system har vi opdelt arbejdet med at læse nummerplader i tre dele. Først forsøger vi at lokalisere nummerpladen i billedet. Derefter roterer vi nummerpladen til vandret position og prøver at separere tegnene. Til sidst forsøger vi at genkende nummerpladens bogstaver og tal. Figur \ref{fig:system_overblik} viser systemet som et diagram med data markeret af rektangler og databehandling markeret med ruder.

HENVIS TIL DE TRE TRIN I FIGUREN OG SKRIV AT DE HAR HVERT SIT AFSNIT.

MARKER DE TRE TRIN SOM STIPLEDE KASSER I DIAGRAMMET.

\begin{figure}[htp]
\centering
\includegraphics[width=10cm]{system/illu/overordnet_system.png} 
\caption{Vores system som diagram}
\label{fig:system_overblik}
\end{figure}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Hvordan lokaliserer vi pladerne? %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\include{system/billedbehandling}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Hvordan separerer vi tegnene? %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\include{system/separation}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Hvordan genkender vi tegnene? %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\include{system/moenstergenkend}




%%%%%%%%%%%%%%%%%%
% IMPLEMENTATION %
%%%%%%%%%%%%%%%%%%
\include{implementation/implementation}


%%%%%%%%%%%%%%
% Afprøvning %
%%%%%%%%%%%%%%
\include{test/test}


%\newpage
%\section{Evaluering}

% God bedømmelse af projektet fås hvis man kan:
%1. Opstille en arbejdsplan og afslutte en undersøgelse af problemet indenfor den tid der er til rådighed.
%2. Kunne kombinere relevant datalogisk og eventuelt anden viden i en beskrivelse af styrker og svagheder i tidligere forsøg på løsning af problemet.
%3. Kunne begrunde valget af en eller flere eksplicit beskrevne metoder, og anvende dem til løsning af problemet, eller til afprøvning af en mulig løsning.
%4. Kunne kombinere relevant datalogisk eller anden viden fra flere områder eller eventuelt viden fra et område og empiriske resultater, så de bidrager til løsning af problemet.
%5. Kunne give en sammenhængende, præcis og ikke-triviel beskrivelse af og begrundelse for væsentlige dele af den konkrete løsning, eller af de generelle muligheder for at løse problemet.
%6. Kunne vurdere på hvilke områder det er lykkedes at løse problemet, og på hvilke områder det ikke er lykkedes, og kunne påpege eventuelle svagheder i løsningen.
%7. Kunne reflektere over sin egen arbejdsproces og når det er relevant, komme med forslag til forbedring af den.
%8. Kunne skrive en sproglig og strukturel velskrevet rapport med relevante illustrationer og referencer som følger en etableret standard.


%\subsection{Performance}
%\subsection{Problemer}
%\subsection{Resultater i forhold til læst litteratur}
\section{Konklusion}
\label{sec:konklusion}
Man skulle have taget alle billeder med et samme kamera. Så kunne man være sikker på at et kamera ikke var en faktor.

Vi kan finde nummerplader på billederne selv om vi skalerer meget kraftigt ned.

Vores testbilleder blev taget sent i forløbet. Vi er opmærksomme på, at vi nok burde have taget  billeder til både trænings- og testsæt fra starten, da vi ikke kan udelukke at arbejdet med opgaven kan have påvirket den måde vi har taget billederne i \textit{testsættet} på. Vi mener dog stadig, at dette andet sæt er relevant i forhold til afprøvning af vores system.

Vores testbilleder er taget på en dag med høj sol i modsætning til vores træningsbilleder. Har det gjort nogen forskel? Skulle vi have gjort anderledes?

Noter fra møde med Søren: Konklusion skal indeholde "Kan man gå videre med dette system efter de påviste resultater?", "Hvad gik godt? : henvisninger til testene"

Blev spørgsmålene besvaret:

Hvordan kan nummerplader på farvefotografier identificeres og læses af et computersystem? Hvilke kendte metoder findes der, og hvor høj genkendelsesprocent kan et system vi selv laver opnå?

Vi har ikke så mange bogstaver i vores træningsæt.

Konklusion af selve vores arbejde: Noget vi burde have forudset? Noget vi har været dårlige til? Hvad har vi været gode til?

Skal vi have arbejdsopgaverne med i rapporten og så bedømmes de?

Godt at vi kan bruge simple metoder, det er spændende med pointsystem, det med at bruge flere metoder sammen har vi selv fundet på.

NEDENFOR: BRUGES ALLE LITTERATUR ELEMENTER??

%\end{comment} % remove this later

\newpage % new page before litterature
%\include{litteratur/litteratur}
%\section{Litteraturliste}
%\section{Litteratur}

\begin{thebibliography}{99}
%\bibliographystyle{plain}

\bibitem{ron} Ron, B.-H.: \textit{A Real-time vehicle License Plate Recognition (LPR) System}, 2002. Vision and Image Science Lab - Israel. Hentet 11. februar 2008 fra http://visl.technion.ac.il/projects/2003w24/.

\bibitem{nijhuis} Nijhuis, J. A. G., ter Brugge, M. H., Helmholt, K. A., Pluim, J. P. W., Spaanenburg, L., Venema, R. S., Westenberg, M. A.: \textit{Car License Plate Recognition with Neural Networks and Fuzzy Logic}, årstal ukendt. University of Groningen, Department of Computing Science. Hentet 11. februar 2008 fra http://www.it.lth.se/users/lambert/leftovers/LicenseplateSydney.pdf.

% 17. april
\bibitem{shapiro} Shapiro, V., Dimov, D., Bonchev, S., Velichkov, V., Gluhchev, G.: \textit{Adaptive License Plate Image Extraction}
% http://ecet.ecs.ru.acad.bg/cst04/Docs/sIIIA/32.pdf

%Hentet 17. februar 2008:
\bibitem{parker} Parker, J. R., Federl, P.: \textit{An Approach To Licence Plate Recognition}.
%http://pages.cpsc.ucalgary.ca/~federl/Publications/LicencePlate1996/licence-plate-1996.pdf

%Hentet 11. februar 2008:
\bibitem{kwas} Kwa\'snicka, H., Wawrzyniak, B.: \textit{License plate localization and recognition in camera pictures}.
%http://www.ci.pwr.wroc.pl/~kwasnick/download/kwasnickawawrzyniak.pdf

\bibitem{arth} Arth, C., Limberger, F., Bischof, H.: \textit{Real-Time License Plate Recognition on an Embedded DSP-Platform}.
%http://www.icg.tu-graz.ac.at/pub/pdf/arth_-_real-time_license_plate_recognition_ecw07.pdf

%Hentet 17. februar 2008:
\bibitem{cano} Cano, J., Pérez-Cortés, J.-C.: \textit{Vehicle License Plate Segmentation In Natural Images}.

%http://plutarco.disca.upv.es/~jcperez/Documentos/Matriculas2003.pdf

%http://nrpl.dk/ - Nummerplader

%http://www.mathworks.com: matlab info, radon


\bibitem{murphy} Murphy-Chutorian, E., Trivedi, M.: \textit{N-Tree Disjoint-Set Forests for Maximally Stable Extremal Regions}.

\bibitem{vedaldi} Vedaldi, A.: \textit{An Implementation of Multi-Dimensional Maximally Stable Extremal Regions}.

\bibitem{matas} Matas, J., Chum, O., Urban, M., Pajdla, T.: \textit{Robust Wide Baseline Stereo from Maximally Stable Extremal Regions}.


\bibitem{wiki_gradienter} Ukendt forfatter: \textit{http://en.wikipedia.org/wiki/Gradient}.

% D
\bibitem{dkplates} The Central Register of Motor Vehicles, Copenhagen: \textit{Most frequently used Danish number plates}.

\bibitem{wiki_radon} Ukendt forfatter: \textit{http://en.wikipedia.org/wiki/Radon\_transform}.
\bibitem{toft_radon} Peter Toft: \textit{http://eivind.imm.dtu.dk/staff/ptoft/Radon/Radon.html}.
\bibitem{matlab_radon} Matlab dokumentation: \textit{http://www.mathworks.com/access/helpdesk\_r13/help/toolbox/images/transfo9.html}.
\bibitem{wiki_euclid} Ukendt forfatter: \textit{http://en.wikipedia.org/wiki/Euclidean\_distance}
\bibitem{bogstav_komb} Bla bla \textit{Bogstav kombinationer bla bla}
\bibitem{nrpl} Side om nummerplader: \textit{http://nrpl.dk/}


\end{thebibliography}

\appendix

%%%%%%%%%%%%%
% KILDEKODE %
%%%%%%%%%%%%%

\begin{comment} 

\section{Kildekode}
Her er kode blah...

%%%%%%%%%%
\subsection{Identifikation af nummerplade}

\subsubsection{DetectSameness.m}
\label{code:DetectSameness}
\lstinputlisting{../../src/detection/DetectSameness.m}

\subsubsection{DetectContrastAvg.m}
\label{code:DetectContrastAvg}
\lstinputlisting{../../src/detection/DetectContrastAvg.m}

\subsubsection{DetectPlateness.m}
\label{code:DetectPlateness}
\lstinputlisting{../../src/detection/DetectPlateness.m}

\subsubsection{DetectCStretch.m}
\label{code:DetectCStretch}
\lstinputlisting{../../src/detection/DetectCStretch.m}

\subsubsection{DetectQuant.m}
\label{code:DetectQuant}
\lstinputlisting{../../src/detection/DetectQuant.m}

\subsubsection{BinImgCleanup.m}
\label{code:BinImgCleanup}
\lstinputlisting{../../src/detection/BinImgCleanup.m}

\subsubsection{GetBestCandidate.m}
\label{code:GetBestCandidate}
HUSK AT FÅ DEN RIGTIGE VERSION MED!! GetBestCandidate2
\lstinputlisting{../../src/detection/GetBestCandidate.m}

\subsubsection{DetectMain.m}
\label{code:DetectMain}
\lstinputlisting{../../src/detection/DetectMain.m}


%%%%%%%%%%%%%
\subsection{Separation af tegn}
\subsubsection{RotatePlateRadon.m}
\label{code: RotatePlateRadon}
\lstinputlisting{../../src/segmentation/RotatePlateRadon.m}

\subsubsection{CharSeparationCC.m}
\label{code:CharSeparationCC}
\lstinputlisting{../../src/segmentation/CharSeparationCC.m}

\subsubsection{CharSeparationPTV.m}
\label{code:CharSeparationPTV}
\lstinputlisting{../../src/segmentation/CharSeparationPTV.m}

\subsection{Genkendelse af tegn}
\subsubsection{GetMeanVectors.m}
\label{code:GetMeanVectors}
\lstinputlisting{../../src/patternreg/GetMeanVectors.m}

\subsubsection{ReadPlateFV.m}
\label{code:ReadPlateFV}
\lstinputlisting{../../src/patternreg/ReadPlateFV.m}

\subsubsection{GetSumImgs.m}
\label{code:GetSumImgs}
\lstinputlisting{../../src/patternreg/GetSumImgs.m}

\subsubsection{ReadPlateSUM.m}
\label{code:ReadPlateSUM}
\lstinputlisting{../../src/patternreg/ReadPlateSUM.m}

\subsubsection{GetAndImgs.m}
\label{code:GetAndImgs}
\lstinputlisting{../../src/patternreg/GetAndImgs.m}

\subsubsection{ReadPlateAND.m}
\label{code:ReadPlateAND}
\lstinputlisting{../../src/patternreg/ReadPlateAND.m}

\end{comment} %Kildekode

\setcounter{footnote}{0}
\section{Synopsis}
\include{appendix/synopsis}

\end{document}
